<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Exchange · ParallelTemperingMonteCarlo</title><meta name="title" content="Exchange · ParallelTemperingMonteCarlo"/><meta property="og:title" content="Exchange · ParallelTemperingMonteCarlo"/><meta property="twitter:title" content="Exchange · ParallelTemperingMonteCarlo"/><meta name="description" content="Documentation for ParallelTemperingMonteCarlo."/><meta property="og:description" content="Documentation for ParallelTemperingMonteCarlo."/><meta property="twitter:description" content="Documentation for ParallelTemperingMonteCarlo."/><script data-outdated-warner src="../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../search_index.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-mocha.css" data-theme-name="catppuccin-mocha"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-macchiato.css" data-theme-name="catppuccin-macchiato"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-frappe.css" data-theme-name="catppuccin-frappe"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-latte.css" data-theme-name="catppuccin-latte"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../">ParallelTemperingMonteCarlo</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../">Home</a></li><li><a class="tocitem" href="../BoundaryConditions/">BoundaryConditions</a></li><li><a class="tocitem" href="../Configurations/">Configurations</a></li><li><a class="tocitem" href="../CustomTypes/">CustomTypes</a></li><li><a class="tocitem" href="../EnergyEvaluation/">EnergyEvaluation</a></li><li><a class="tocitem" href="../Ensembles/">Ensembles</a></li><li class="is-active"><a class="tocitem" href>Exchange</a></li><li><a class="tocitem" href="../Initialization/">Initialization</a></li><li><a class="tocitem" href="../InputParams/">InputParams</a></li><li><a class="tocitem" href="../MCMoves/">MCMoves</a></li><li><a class="tocitem" href="../MCRun/">MCRun</a></li><li><a class="tocitem" href="../MCSampling/">MCSampling</a></li><li><a class="tocitem" href="../MCStates/">MCStates</a></li><li><a class="tocitem" href="../MachineLearningPotential/">MachineLearningPotential</a></li><li><a class="tocitem" href="../Multihistogram/">Multihistogram</a></li><li><a class="tocitem" href="../Multihistogram_NPT/">Multihistogram_NPT</a></li><li><a class="tocitem" href="../Multihistogram_NVT/">Multihistogram_NVT</a></li><li><a class="tocitem" href="../ReadSave/">ReadSave</a></li><li><span class="tocitem">MachineLearningPotential</span><ul><li><a class="tocitem" href="../MachineLearningPotential/">MachineLearningPotential</a></li><li><a class="tocitem" href="../Cutoff/">Cutoff</a></li><li><a class="tocitem" href="../DeltaMatrix/">DeltaMatrix</a></li><li><a class="tocitem" href="../ForwardPass/">ForwardPass</a></li><li><a class="tocitem" href="../SymmetryFunctions/">SymmetryFunctions</a></li></ul></li><li><span class="tocitem">Examples</span><ul><li><a class="tocitem" href="../ne13/">ne13.jl</a></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Exchange</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Exchange</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/ElkePahl/ParallelTemperingMonteCarlo.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/ElkePahl/ParallelTemperingMonteCarlo.jl/blob/main/docs/src/Exchange.md" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="Exchange"><a class="docs-heading-anchor" href="#Exchange">Exchange</a><a id="Exchange-1"></a><a class="docs-heading-anchor-permalink" href="#Exchange" title="Permalink"></a></h1><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ParallelTemperingMonteCarlo.Exchange" href="#ParallelTemperingMonteCarlo.Exchange"><code>ParallelTemperingMonteCarlo.Exchange</code></a> — <span class="docstring-category">Module</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">module Exchange</code></pre><p>Here we include methods for calculating the metropolis condition and other exchange criteria required for Monte Carlo steps. This further declutters the MCRun module and allows us to split the cycle. Includes <a href="#ParallelTemperingMonteCarlo.Exchange.update_max_stepsize!-Tuple{MCState, Int64, NPT, Number, Number}"><code>update_max_stepsize!</code></a> which controls the frequency of</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ElkePahl/ParallelTemperingMonteCarlo.jl/blob/de5fd98cf5cc052a3b463e89115edde062b7b303/src/Exchange.jl#L1-L5">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ParallelTemperingMonteCarlo.Exchange.exc_acceptance-NTuple{4, Number}" href="#ParallelTemperingMonteCarlo.Exchange.exc_acceptance-NTuple{4, Number}"><code>ParallelTemperingMonteCarlo.Exchange.exc_acceptance</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">exc_acceptance(beta_1::Number, beta_2::Number, en_1::Number, en_2::Number)</code></pre><p>Returns probability to exchange configurations of two trajectories with energies <code>en_1</code> and <code>en_2</code>  at inverse temperatures <code>beta_1</code> and <code>beta_2</code>. </p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ElkePahl/ParallelTemperingMonteCarlo.jl/blob/de5fd98cf5cc052a3b463e89115edde062b7b303/src/Exchange.jl#L85-L89">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ParallelTemperingMonteCarlo.Exchange.exc_trajectories!-Tuple{MCState, MCState}" href="#ParallelTemperingMonteCarlo.Exchange.exc_trajectories!-Tuple{MCState, MCState}"><code>ParallelTemperingMonteCarlo.Exchange.exc_trajectories!</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">exc_trajectories!(state_1::MCState, state_2::MCState)</code></pre><p>Exchanges configurations and distance and energy information between two trajectories; information contained in <code>state_1</code> and <code>state_2</code>, see <a href="../MCStates/#ParallelTemperingMonteCarlo.MCStates.MCState"><code>MCState</code></a>   </p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ElkePahl/ParallelTemperingMonteCarlo.jl/blob/de5fd98cf5cc052a3b463e89115edde062b7b303/src/Exchange.jl#L97-L101">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ParallelTemperingMonteCarlo.Exchange.metropolis_condition-Tuple{Number, Number}" href="#ParallelTemperingMonteCarlo.Exchange.metropolis_condition-Tuple{Number, Number}"><code>ParallelTemperingMonteCarlo.Exchange.metropolis_condition</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">metropolis_condition(delta_energy::Number, beta::Number)
metropolis_condition(ensemble::Etype, delta_energy::Float64, volume_changed::Float64, volume_unchanged::Float64, beta::Float64) where Etype &lt;: NPT
metropolis_condition(movetype::String, mc_state::MCState, ensemble::Etype) where Etype &lt;: AbstractEnsemble</code></pre><p>Function returning the probability value associated with a trial move. Four methods included. The last two methods are separatig functions taking a <code>movetype</code>, <code>mc_state</code> and <code>ensemble</code> and separating them into volume and atom moves defined in the first two functions, namely:</p><ul><li>accepts <code>delta_energy</code> and <code>beta</code> and determines the thermodynamic probability of the single-atom move</li><li>accepts pressure by way of <code>ensemble</code>, <code>delta_energy</code>, <code>delta_volume</code> by way of <code>volume_changed</code> and <code>volume_unchanged</code> and <code>beta</code> and calculates the thermodynamic probability of the volume move.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ElkePahl/ParallelTemperingMonteCarlo.jl/blob/de5fd98cf5cc052a3b463e89115edde062b7b303/src/Exchange.jl#L47-L54">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ParallelTemperingMonteCarlo.Exchange.parallel_tempering_exchange!-Tuple{Vector{T} where T&lt;:MCState, MCParams, AbstractEnsemble}" href="#ParallelTemperingMonteCarlo.Exchange.parallel_tempering_exchange!-Tuple{Vector{T} where T&lt;:MCState, MCParams, AbstractEnsemble}"><code>ParallelTemperingMonteCarlo.Exchange.parallel_tempering_exchange!</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">parallel_tempering_exchange!(mc_states::Vector{T},mc_params::MCParams,ensemble::NVT) where T &lt;: MCState
parallel_tempering_exchange!(mc_states::Vector{T},mc_params::MCParams,ensemble::NPT) where T &lt;: MCState</code></pre><p>These functions take a vector <code>mc_states</code> as well as the parameters of the simulation and attempts to swap two trajectories according to the parallel tempering method.  The second method uses enthalpy instead of energy to determine acceptance. </p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ElkePahl/ParallelTemperingMonteCarlo.jl/blob/de5fd98cf5cc052a3b463e89115edde062b7b303/src/Exchange.jl#L112-L117">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ParallelTemperingMonteCarlo.Exchange.update_max_stepsize!-Tuple{MCState, Int64, NPT, Number, Number}" href="#ParallelTemperingMonteCarlo.Exchange.update_max_stepsize!-Tuple{MCState, Int64, NPT, Number, Number}"><code>ParallelTemperingMonteCarlo.Exchange.update_max_stepsize!</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">update_max_stepsize!(mc_state::MCState, n_update::Int, ensemble::NPT, min_acc::Number, max_acc::Number)
update_max_stepsize!(mc_state::MCState, n_update::Int, ensemble::Etype, min_acc::Number, max_acc::Number) where Etype &lt;: AbstractEnsemble</code></pre><p>Increases/decreases the max. displacement of atom, volume, and rotation moves to 110%/90% of old values if acceptance rate is &gt;60%/&lt;40%. Acceptance rate is calculated after <code>n_update</code> MC cycles;  each cycle consists of <code>a</code> atom, <code>v</code> volume moves. Information on actual max. displacement and accepted moves between updates is contained in <code>mc_state</code>, see <a href="../MCStates/#ParallelTemperingMonteCarlo.MCStates.MCState"><code>MCState</code></a>.  </p><p>Methods split for NVT/NPT ensemble to ensure we don&#39;t consider volume moves when dealing with the NVT ensemble.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ElkePahl/ParallelTemperingMonteCarlo.jl/blob/de5fd98cf5cc052a3b463e89115edde062b7b303/src/Exchange.jl#L154-L163">source</a></section></article></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../Ensembles/">« Ensembles</a><a class="docs-footer-nextpage" href="../Initialization/">Initialization »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="catppuccin-latte">catppuccin-latte</option><option value="catppuccin-frappe">catppuccin-frappe</option><option value="catppuccin-macchiato">catppuccin-macchiato</option><option value="catppuccin-mocha">catppuccin-mocha</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.8.1 on <span class="colophon-date" title="Wednesday 26 February 2025 04:53">Wednesday 26 February 2025</span>. Using Julia version 1.11.3.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
