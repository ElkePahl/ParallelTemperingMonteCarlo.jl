include("/Users/tiantianyu/Downloads/ParallelTemperingMonteCarlo.jl-2/CNA/CNA.jl") # This file contains the IO module.
using .CommonNeighbourAnalysis

x=[0.1947679907,        0.3306365642,        1.7069272101,1.1592174250,       -1.1514615100,       -0.6254746298,1.4851406793,       -0.0676273830,        0.9223060046,-0.1498046416,        1.4425168343,       -0.9785553065,1.4277261305,        0.3530265376,       -0.9475378022,-0.6881246261,       -1.5737014419,       -0.3328844168,-1.4277352637,       -0.3530034531,        0.9475270683,0.6881257085,        1.5736904826,        0.3329032458,-1.1592204530,        1.1514535263,        0.6254777879,0.1498035273,       -1.4424985165,        0.9785685322,-1.4851196066,        0.0676193562,       -0.9223231092,-0.7057028384,        0.6207073550,       -1.4756523155,-0.8745359533,        0.4648140463,        1.4422103492,-0.9742077067,       -0.8837261792,       -1.1536019836,-0.1947765396,       -0.3306358487,       -1.7069179299,0.3759933035,       -1.7072373106,       -0.0694439840,-1.7124296000,        0.3336352522,        0.1307959669,0.9143159284,        1.3089975397,       -0.7151210582,-0.3759920260,        1.7072300336,        0.0694634263,1.7124281219,       -0.3336312342,       -0.1308207313,-0.9143187026,       -1.3089785474,        0.7151290509,0.9742085109,        0.8837023041,        1.1536069633,0.7057104439,       -0.6206907639,        1.4756502961,0.8745319670,       -0.4648127187,       -1.4422106957,-1.1954804901,       -0.6171923123,       -0.1021449363,0.0917363053,       -1.0144887859,       -0.8848410405,0.9276243144,       -0.8836123311,        0.4234140820,1.1954744473,        0.6171883800,        0.1021399054,-0.9276176774,        0.8836123556,       -0.4234173533,-0.3595942315,       -0.4863167551,        1.2061133825,0.3595891589,        0.4863295901,       -1.2061152849,-0.0917352078,        1.0144694592,        0.8848400639,0.6410702480,       -0.1978633363,       -0.3898095439,-0.4162942817,       -0.0651798741,       -0.6515502084,0.1334019604,        0.7474406294,       -0.1600033264,-0.6410732823,        0.1978593218,        0.3898012337,0.4162968444,        0.0651733322,        0.6515490914, -0.1333998872,       -0.7474445984,        0.1600019961]

N=38
config=Array{Float64}(undef,N,3)
for i=1:N
	for j=1:3
		config[i,j]=x[3i-(3-j)]
	end
end

println(CNA(config, N, 1.3549, false, 1.122))
println()

totalProfile = Dict{String,Int}()

totalProfile = Dict("(2,1,1)" => 8, "(3,2,2)" => 17, "(5,5,5)" => 6, "(4,3,3)" => 8)
println(totalProfile)

totalProfile_string = "Dict((2,1,1) => 8, (3,2,2) => 17, (5,5,5) => 6, (4,3,3) => 8)"

dict_cna=Dict{String,Int}()

#split(totalProfile_string, ",")




open("/Users/tiantianyu/Downloads/13_similarity_0.35.txt") do f

	global total_profile
	for i=1:4
		line=readline(f)
		println(line)
	end
	line=readline(f)
	line = replace(line,'"' => "" )
	println("the line is ",line)

	s_1=split(line, "(")
	println("s_1 is ", s_1)
	println("number of elements in s_1 is ", length(s_1))

	s_2=split(s_1[3],") => ")
	println(s_2)
    s_3=string("(",s_2[1],")")
	s_4=SubString(s_2[2],1:1)
	println(s_3)
    println(s_4)
	total_profile=Dict(s_3 => parse(Int64, s_4))

	for i=3:length(s_1)
		s_2=split(s_1[i],") => ")
		println(s_2)
        s_3=string("(",s_2[1],")")
		s_4=SubString(s_2[2],1:1)
		println(s_3)
        println(s_4)
		single_profile=Dict(s_3 => parse(Int64, s_4))
		println(single_profile)
		total_profile=merge(total_profile,single_profile)
		println("total profile is ",total_profile)
	end
	#dict_cna=line
end

println(total_profile)
println(total_profile["(5,5,5)"])
#println(dict_cna)
